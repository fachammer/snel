<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Event sheet 1</name>
    <events>
        <event-block sid="6997015358620516">
            <conditions>
                <condition id="-1" name="Every tick" sid="3034940027277259" type="System" />
            </conditions>
            <actions>
                <action id="-4" name="Set position to another object" sid="2893725768475685" type="player">
                    <param id="0" name="Object">playerCollision</param>
                    <param id="1" name="Image point (optional)">0</param>
                </action>
                <action behavior="Platform" id="4" name="Set jump strength" sid="4784523201836952" type="playerCollision">
                    <param id="0" name="Jump strength">min(playerCollision.maxJumpStrength - abs(playerCollision.Platform.VectorX) + playerCollision.minJumpStrength, playerCollision.maxJumpStrength)</param>
                </action>
                <action id="6" name="Set speed" sid="4895636398103551" type="player">
                    <param id="0" name="Speed">(abs(playerCollision.Platform.VectorX) / playerCollision.Platform.MaxSpeed) * 12+ 12</param>
                </action>
                <action id="0" name="Set text" sid="2626357644527631" type="timer">
                    <param id="0" name="Text">time</param>
                </action>
                <action id="-7" name="Set size" sid="7302077292288723" type="playerCollision">
                    <param id="0" name="Width">(abs(playerCollision.Platform.VectorX) / playerCollision.Platform.MaxSpeed) * 32 + 31</param>
                    <param id="1" name="Height">(1 - abs(playerCollision.Platform.VectorX) / playerCollision.Platform.MaxSpeed) * 32 + 31</param>
                </action>
                <action id="-7" name="Set size" sid="6902198604791971" type="player">
                    <param id="0" name="Width">(abs(playerCollision.Platform.VectorX) / playerCollision.Platform.MaxSpeed) * 32 + 32</param>
                    <param id="1" name="Height">(1 - abs(playerCollision.Platform.VectorX) / playerCollision.Platform.MaxSpeed) * 32 + 32</param>
                </action>
            </actions>
            <sub-events>
                <event-block collapsed="1" sid="9099400220727602">
                    <conditions>
                        <condition id="-11" name="For Each" sid="7661778963913551" type="System">
                            <param id="0" name="Object">block</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="9550863054094822">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="90482021745397" type="System">
                                    <param id="0" name="First value">playerCollision.Y - Function.Call(&quot;getJumpHeight&quot;)</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Second value">block.Y + 100</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="5" name="Set frame" sid="2526390249644538" type="block">
                                    <param id="0" name="Frame number">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="2696893723110222">
                            <conditions>
                                <condition id="-22" name="Else" sid="7483222507423478" type="System" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="3106679968815934">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="1316669173515004" type="System">
                                            <param id="0" name="First value">playerCollision.Y - Function.Call(&quot;getJumpHeight&quot;)</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Second value">block.Y</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="5" name="Set frame" sid="3544885445406874" type="block">
                                            <param id="0" name="Frame number">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="9948739392546232">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="5579487844365583" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="5" name="Set frame" sid="8338701769036658" type="block">
                                            <param id="0" name="Frame number">2</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="2049298380589945">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="2307892626556414" type="player">
                            <param id="0" name="Instance variable">mirrored</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="7" name="Set mirrored" sid="7555888997650103" type="player">
                            <param id="0" name="State">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="359138349554718">
                    <conditions>
                        <condition id="-22" name="Else" sid="4507939236292383" type="System" />
                    </conditions>
                    <actions>
                        <action id="7" name="Set mirrored" sid="7735751842769747" type="player">
                            <param id="0" name="State">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="5636225563831785">
            <conditions>
                <condition behavior="Platform" id="0" name="Is moving" sid="502075248275505" type="playerCollision" />
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="6292779231067697" type="player">
                    <param id="0" name="Animation">&quot;walk&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="4934303815682191">
            <conditions>
                <condition behavior="Platform" id="3" name="Is jumping" sid="4817051061769987" type="playerCollision" />
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="1672869145602346" type="player">
                    <param id="0" name="Animation">&quot;jump&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
                <action id="5" name="Set frame" sid="3092304532628403" type="player">
                    <param id="0" name="Frame number">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="3419440123113753">
            <conditions>
                <condition behavior="Platform" id="7" name="On stopped" sid="9895797693342818" type="playerCollision" />
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="971596673600614" type="player">
                    <param id="0" name="Animation">&quot;idle&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="8887687188196776">
            <conditions>
                <condition behavior="Platform" id="9" name="On landed" sid="33642831053532" type="playerCollision" />
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="7457313928786218" type="player">
                    <param id="0" name="Animation">&quot;idle&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="5390423034203806">
            <conditions>
                <condition behavior="Platform" id="4" name="Is falling" sid="3484881688375342" type="playerCollision" />
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="9059799385491161" type="player">
                    <param id="0" name="Animation">&quot;jump&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
                <action id="5" name="Set frame" sid="4761109853100582" type="player">
                    <param id="0" name="Frame number">1</param>
                </action>
            </actions>
        </event-block>
        <event-block any="1" sid="3759399153922049">
            <conditions>
                <condition id="0" name="On key pressed" sid="4071362224035974" type="Keyboard">
                    <param id="0" name="Key">39 (Right arrow)</param>
                </condition>
                <condition id="3" name="Is button down" sid="4914485568882411" type="Gamepad">
                    <param id="0" name="Gamepad">0</param>
                    <param id="1" name="Button">15</param>
                </condition>
            </conditions>
            <actions>
                <action id="-13" name="Set boolean" sid="3092411457978059" type="player">
                    <param id="0" name="Instance variable">mirrored</param>
                    <param id="1" name="Value">0</param>
                </action>
            </actions>
        </event-block>
        <event-block any="1" sid="292754302467165">
            <conditions>
                <condition id="0" name="On key pressed" sid="8283027482900686" type="Keyboard">
                    <param id="0" name="Key">37 (Left arrow)</param>
                </condition>
                <condition id="3" name="Is button down" sid="4068300610358118" type="Gamepad">
                    <param id="0" name="Gamepad">0</param>
                    <param id="1" name="Button">14</param>
                </condition>
            </conditions>
            <actions>
                <action id="-13" name="Set boolean" sid="4523226024674515" type="player">
                    <param id="0" name="Instance variable">mirrored</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="3474353154934707">
            <conditions>
                <condition id="0" name="On function" sid="6202849901939404" type="Function">
                    <param id="0" name="Name">&quot;getJumpHeight&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="1" name="Set return value" sid="4174914128221256" type="Function">
                    <param id="0" name="Value">(-playerCollision.Platform.Gravity/2) * Function.Call(&quot;getJumpTime&quot;) * Function.Call(&quot;getJumpTime&quot;)+playerCollision.Platform.JumpStrength * Function.Call(&quot;getJumpTime&quot;) </param>
                </action>
            </actions>
        </event-block>
        <event-block sid="6089386173129119">
            <conditions>
                <condition id="0" name="On function" sid="213923659501686" type="Function">
                    <param id="0" name="Name">&quot;getJumpTime&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="1" name="Set return value" sid="4405968504388394" type="Function">
                    <param id="0" name="Value">playerCollision.Platform.JumpStrength / playerCollision.Platform.Gravity</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="7474996103907796">
            <conditions>
                <condition behavior="Platform" id="5" name="On jump" sid="2667781297612718" type="playerCollision" />
            </conditions>
            <actions>
                <action id="7" name="Play (by name)" sid="685308328362039" type="Audio">
                    <param id="0" name="Folder">0</param>
                    <param id="1" name="Audio file name">&quot;jump&quot;</param>
                    <param id="3" name="Loop">0</param>
                    <param id="4" name="Volume">0</param>
                    <param id="2" name="Tag (optional)">&quot;&quot;</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="670225060822492">
            <conditions>
                <condition id="6" name="On button pressed" sid="8802957670339218" type="Gamepad">
                    <param id="0" name="Gamepad">0</param>
                    <param id="1" name="Button">0</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Platform" id="7" name="Simulate control" sid="6960449020951888" type="playerCollision">
                    <param id="0" name="Control">2</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="1830522066821311">
            <conditions>
                <condition id="3" name="Is button down" sid="5647377975620783" type="Gamepad">
                    <param id="0" name="Gamepad">0</param>
                    <param id="1" name="Button">15</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Platform" id="7" name="Simulate control" sid="3530738163884961" type="playerCollision">
                    <param id="0" name="Control">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="3575013091820103">
            <conditions>
                <condition id="3" name="Is button down" sid="7403243923227063" type="Gamepad">
                    <param id="0" name="Gamepad">0</param>
                    <param id="1" name="Button">14</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Platform" id="7" name="Simulate control" sid="4241641027256938" type="playerCollision">
                    <param id="0" name="Control">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="860848635495649">
            <conditions>
                <condition id="6" name="On button pressed" sid="2235490433226763" type="Gamepad">
                    <param id="0" name="Gamepad">0</param>
                    <param id="1" name="Button">8</param>
                </condition>
            </conditions>
            <actions>
                <action id="-26" name="Restart layout" sid="5125817900040075" type="System" />
            </actions>
        </event-block>
    </events>
</c2eventsheet>
